<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="jquery-3.6.0.min.js"></script>
    <script src="jquery-ui.min.js"></script>
</head>
<body>
    <!-- 3_ex-wheel.html -->  
    <main>
        <section class="content1 con">01</section>
        <section class="content2 con">02</section>
        <section class="content3 con">03</section>
        <section class="content4 con">04</section>
        <section class="content5 con">05</section>
    </main>
    <aside>
        <a class="active"></a><a></a><a></a><a></a><a></a>
    </aside>
    <style>
        body{overflow: hidden; margin: 0;}
        main{display: flex;}

        section{
            flex-shrink: 0;
            width: 100%; height: 100vh;
            font-size: 5em;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        section:nth-child(even){
            background-color: #ddd;
        }
        aside{
            display: flex;
            position: fixed; 
            bottom: 5%;
            left: 50%;
            transform: translateX(-50%);
        }
        aside a{
            display: block;
            width: 10px;height: 10px; 
            border-radius: 100%;
            background-color: #000;
            margin: 10px 10px; 
        }
        aside a.active{background-color: #f00;}
    </style>
    <script>
        let len = $('section').length;

        let delta, num =0, move;

        $(window).on('mousewheel DOMMouseScroll',function(e){
            delta = e.originalEvent.wheelDelta 
                  || e.originalEvent.delta * -40;
            
            clearTimeout(move);
            move = setTimeout(function(){
                if(delta < 0){
                    num++;
                    if(num == len) num = len-1;
                }else{
                    num--;
                    if(num < 0) num = 0;
                }
                console.log(num);

                ani();

            },100);
        });


    // wheel end
    function ani(){
        $('html,body').animate({
            scrollLeft : $(window).width()*num
        });

        $('aside a').removeClass('active').eq(num).addClass('active');
    }

    $('aside a').on('click',function(){
        num = $(this).index();
        ani();
    })
    </script>

</body>
</html>